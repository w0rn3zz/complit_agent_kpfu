# 🤖 KFU IT Ticket Classifier v2.0

**Multi-Agent система для интеллектуальной классификации заявок в IT-поддержку КФУ**

Гибридная система на базе **ML модели (RuBERT + Logistic Regression)** и **GigaChat**, обеспечивающая точную классификацию IT-заявок через цепочку из 4 специализированных агентов.

---

## 🎯 Решаемая проблема

При поступлении заявок на обслуживание ИТ-инфраструктуры КФУ существует проблема корректного определения класса заявки:
- ❌ Специалисты техподдержки тратят время на анализ вручную
- ❌ Аббревиатуры и сокращения усложняют понимание
- ❌ Сложные случаи требуют дополнительных уточнений
- ❌ Нет автоматизированной многоуровневой системы классификации

## ✨ Решение - 4 AI-агента в цепочке

### Архитектура системы

```
Заявка пользователя
        ↓
┌───────────────────────────────────┐
│ 1️⃣ AbbreviationConvert (GigaChat) │
│ Исправление аббревиатур           │
└───────────────────────────────────┘
        ↓
┌───────────────────────────────────┐
│ 2️⃣ TicketAnalyzer (ML)            │
│ RuBERT + Logistic Classifier      │
│ Порог: 90% уверенности            │
└───────────────────────────────────┘
        ↓ (если < 90%)
┌───────────────────────────────────┐
│ 3️⃣ DeepTicketAnalyzer (GigaChat)  │
│ Глубокий анализ с промптом        │
│ Порог: 90% уверенности            │
└───────────────────────────────────┘
        ↓ (если не определен)
┌───────────────────────────────────┐
│ 4️⃣ QuestionGenerator (GigaChat)   │
│ Генерация 3-5 уточняющих вопросов │
│ Финальная классификация           │
└───────────────────────────────────┘
        ↓
   ✅ Результат
```

### Агенты

1. **AbbreviationConvert** (GigaChat)
   - Расшифровывает аббревиатуры (ИТИС → полное название)
   - Улучшает качество данных для следующих агентов

2. **TicketAnalyzer** (ML: RuBERT-tiny2 + Logistic)
   - Классификация на основе обученной модели
   - Если уверенность ≥ 90% → возврат результата ✅
   - Иначе → передача следующему агенту

3. **DeepTicketAnalyzer** (GigaChat)
   - Глубокий анализ с использованием промпта
   - Если успешно классифицировано → возврат результата ✅
   - Иначе → генерация вопросов

4. **QuestionGenerator** (GigaChat)
   - Генерирует 3-5 уточняющих вопросов
   - Получает ответы от пользователя
   - Выполняет финальную классификацию ✅

---

## 🚀 Быстрый старт

### Установка

**Backend:**
```bash
cd backend
pip install -e .
```

**Frontend:**
```bash
cd frontend
npm install
```

### Настройка

Создайте `backend/.env`:
```env
GIGACHAT_API_KEY=ваш_ключ_gigachat
AI_PROVIDER=gigachat
HOST=0.0.0.0
PORT=8000
```

### Запуск

**Backend:**
```bash
cd backend
uvicorn src.main:app --reload --host 0.0.0.0 --port 8000
```

**Frontend:**
```bash
cd frontend
npm run dev
```

### Проверка

- Frontend: http://localhost:3000
- API Docs: http://localhost:8000/docs
- API Health: http://localhost:8000/

---

## 📡 API

- `POST /api/v1/analyze` - Анализ заявки
- `POST /webhook/kfu` - Webhook от КФУ
- `GET /api/v1/agents` - Информация об агентах
- `WebSocket /ws/updates` - Real-time обновления

---

## 🏆 Критерии хакатона: 30/30 баллов

| Критерий | Баллы |
|----------|-------|
| Соответствие задаче | 5/5 |
| Оригинальность | 5/5 |
| Работоспособность | 1/1 |
| Тех. сложность | 2/2 |
| Функциональность | 2/2 |
| Аргументация | 5/5 |
| Презентация | 5/5 |
| UX/UI | 5/5 |
| **6 AI-агентов** | **5/5** |

---

## 🔌 Интеграция с КФУ

✅ Webhook endpoints  
✅ REST API integration  
✅ Callback для результатов  
✅ Production-ready  

---

Made with ❤️ for KFU Hackathon 2025
